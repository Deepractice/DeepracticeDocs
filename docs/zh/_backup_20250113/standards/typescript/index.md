# TypeScript 编码规范

## 规范定位

本规范定义了 TypeScript 在 Node.js 生态中的编码标准，确保代码的**类型安全、可维护性和一致性**，覆盖前端应用、后端服务、工具库等所有场景。

## 核心原则

### 类型优先原则
- 充分利用类型系统的能力
- 优先考虑类型安全而非便利性
- 明确的类型定义优于隐式推导
- 编译时错误优于运行时错误

### 简洁明确原则
- 代码意图清晰可读
- 避免过度抽象和复杂性
- 命名准确表达含义
- 减少认知负担

### 一致性原则
- 统一的编码风格
- 一致的错误处理模式
- 标准的项目结构
- 规范的模块组织

### 可维护性原则
- 便于测试和调试
- 支持渐进式重构
- 良好的文档和注释
- 清晰的依赖关系

## 适用范围

本规范适用于所有使用 TypeScript 的项目场景：
- 前端应用（React、Vue、Angular）
- 后端服务（Express、NestJS、Koa）
- 工具库和 SDK 开发
- CLI 工具开发
- 全栈应用和 Monorepo 项目

## 规范架构

本规范包含以下章节：

1. **[配置规范](./config)** - TypeScript 项目配置标准
2. **[命名规范](./naming)** - 标识符、文件和目录命名规则
3. **[类型系统](./type-system)** - 类型定义和使用规范
4. **[编码风格](./coding-style)** - 代码组织和风格规范
5. **[高级特性](./patterns)** - 高级类型特性和使用模式
6. **[开发工具](./toolchain)** - 本地开发工具配置

## 技术要求

### TypeScript 版本
- **推荐版本**：始终使用最新稳定版（目前 5.x）
- **最低版本**：4.5（兼容性需求时）
- **升级策略**：每季度评估并升级到最新稳定版

### 编译器配置原则
- 启用所有严格检查选项（`strict: true`）
- 输出 ESNext，由打包工具处理兼容性
- 使用 bundler 模块解析策略
- 采用基础配置 + 场景扩展的组织方式

### 工具链集成
- **类型检查**：tsc 编译器
- **代码检查**：ESLint + TypeScript 插件
- **格式化**：Prettier
- **构建工具**：tsup、esbuild、Vite

## 与其他规范的关系

- **参考规范**：文档撰写规范（注释和文档格式）
- **下游影响**：具体框架规范（React、Vue、Node.js）
- **平行关系**：Monorepo 规范、Git 工作流规范

## 预期效果

通过执行本规范，预期达到：
- 减少 90% 以上的类型相关运行时错误
- 提升代码可读性和可维护性
- 统一团队编码风格，降低协作成本
- 提高代码重用性和模块化程度
- 改善开发体验和工作效率

## 演进策略

### 新项目
- 直接采用完整规范
- 使用严格的 TypeScript 配置
- 配置自动化工具链

### 现有项目
- 渐进式迁移策略
- 先迁移核心模块
- 逐步提升类型覆盖率
- 分阶段启用严格选项

### 持续改进
- 跟踪 TypeScript 新特性
- 收集团队反馈
- 定期评估和更新规范
- 分享最佳实践