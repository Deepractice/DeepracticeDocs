# Monorepo 目录 PSO 定义
# 本文件定义了 monorepo 目录的目标、范围和预期成果

purpose: 提供 Monorepo 开发模式的完整实践标准

scope:
  includes:
    - Monorepo 架构和设计理念
    - 工作区管理（pnpm workspace）
    - 任务编排（Turborepo）
    - 包依赖管理（workspace 协议）
    - 跨包构建优化（增量构建、缓存）
    - Monorepo 特有的版本管理策略
    - Monorepo 特有的 CI/CD 优化
    
  excludes:
    - typescript: 通用 TypeScript 配置 → /typescript/
    - nodejs: Node.js 环境设置 → /nodejs-setup/
    - git: 通用 Git 操作 → /git/
    - ci-cd: 通用 CI/CD 流程 → /devops/
    - code-quality: 代码质量工具配置 → /code-quality/
    - architecture: 业务架构设计 → /architecture/
    - testing: 通用测试策略 → /testing/

outcome:
  - 能够评估是否适合采用 Monorepo
  - 能够搭建生产级 Monorepo 项目
  - 掌握 Monorepo 特有的工具链
  - 理解并能优化 Monorepo 工作流程
  - 能够解决 Monorepo 特有的问题

# 内容判断标准
criteria:
  must_have:
    - 是 Monorepo 特有的概念或工具
    - 解决多包管理的特定问题
    - 在非 Monorepo 场景下无意义
    
  should_not_have:
    - 通用开发工具的基础配置
    - 与包管理无关的架构设计
    - 可独立于 Monorepo 存在的实践

# 与其他目录的关系
relations:
  dependencies:
    - /nodejs-setup/: 需要 Node.js 环境
    - /typescript/: 使用 TypeScript 作为主要语言
    
  references:
    - /git/: Git 操作基础
    - /devops/: CI/CD 基础知识
    
  extends:
    - /code-quality/: 在 Monorepo 场景下的特殊配置
    - /testing/: 在 Monorepo 场景下的测试策略

# 目录内文档类型分布建议
document_types:
  reference: 40%  # 配置规范、标准定义
  explanation: 30%  # 架构理念、设计权衡
  how-to: 20%  # 具体操作任务
  tutorial: 10%  # 入门教程（Practice 层较少）

# 维护指南
maintenance:
  review_cycle: quarterly  # 每季度评审一次
  owners: 
    - development-environment-team
  update_triggers:
    - 新工具版本发布
    - 最佳实践变化
    - 用户反馈积累