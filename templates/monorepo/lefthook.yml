pre-commit:
  parallel: true
  commands:
    type-check:
      run: pnpm type-check

commit-msg:
  commands:
    validate:
      run: |
        commit_regex='^(feat|fix|docs|style|refactor|perf|test|build|ci|chore|revert)(\(.+\))?: .{1,50}'
        if ! grep -qE "$commit_regex" "$1"; then
          echo "❌ 提交信息必须符合约定式提交规范"
          echo "格式: <type>(<scope>): <subject>"
          exit 1
        fi

skip:
  - merge: true
  - rebase: true